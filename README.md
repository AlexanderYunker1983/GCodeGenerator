Релизная версия продукта - 1.0.0.
На данный момент дальнейшая доработка функционала продукта приостановлена до завершения обновления используемого стека. 
Следующие версии предполагают кроссплатформенность и большую интерактивность работы с 2D/3D.


# GCodeGenerator

Простой генератор G-кода для станков с ЧПУ с графическим интерфейсом и 3D-визуализацией траекторий.

## Описание

GCodeGenerator — это приложение для Windows, которое позволяет быстро создавать G-код программы для станков с ЧПУ через удобный графический интерфейс без привязки к CAD-системам. Приложение поддерживает различные типы операций (сверление, фрезерование) и включает в себя 3D-превью для визуализации траекторий инструмента.

## Основные возможности

### Операции сверления
- **Сверление по точкам** — создание отверстий в указанных координатах
- **Сверление по линии** — равномерное распределение отверстий вдоль линии
- **Сверление по массиву** — создание сетки отверстий
- **Сверление по прямоугольнику** — отверстия по периметру прямоугольника
- **Сверление по кругу** — отверстия по окружности
- **Сверление по эллипсу** — отверстия по эллипсу с возможностью поворота
- **Сверление по пакету** — использование предопределенных шаблонов

### Профильное фрезерование
- **Фрезерование прямоугольника** — обработка контура прямоугольника с возможностью поворота
- **Фрезерование скругленного прямоугольника** — обработка контура с радиусами углов
- **Фрезерование окружности** — обработка контура окружности
- **Фрезерование эллипса** — обработка контура эллипса с возможностью поворота
- **Фрезерование многоугольника** — обработка контура правильного многоугольника (треугольник, квадрат, шестигранник и т.д.)
- **Импорт DXF для контуров** — импорт контуров из DXF файлов для профильного фрезерования (поддержка линий, дуг, полилиний, эллипсов)

### Фрезерование карманов
- **Фрезерование прямоугольного кармана** — обработка контура прямоугольника с возможностью поворота и выборкой материала
- **Фрезерование круглого кармана** — обработка контура окружности с выборкой материала
- **Фрезерование эллиптического кармана** — обработка контура эллипса с возможностью поворота и выборкой материала
- **Импорт DXF для карманов** — импорт замкнутых контуров из DXF файлов для фрезерования карманов с различными стратегиями обработки (спираль, радиальная, линии, зигзаг)

### Дополнительные функции
- **3D-визуализация траекторий** — интерактивный просмотр траекторий инструмента
- **Предпросмотр G-кода** — просмотр сгенерированного кода перед сохранением в виде кода и 2D представления операций
- **Настройки генерации** — гибкая настройка формата выходного G-кода
- **Настройки шпинделя** — управление шпинделем в программе: включение/выключение (M3/M4/M5), скорость вращения (S-код), направление вращения, задержка после включения
- **Настройки подачи СОЖ** — управление системой охлаждения и смазки: включение/выключение (M8/M9) с программы
- **Сохранение и открытие проектов** — сохранение всех операций и настроек в файл проекта для последующей загрузки и продолжения работы
- **Локализация** — поддержка русского языка, другие языки в разработке
- **Управление операциями** — добавление, удаление, изменение порядка операций

## Требования

- Windows 7 или выше
- .NET Framework 4.8.1
- Visual Studio 2022 или выше (для сборки из исходников)
*Остальные зависимости автоматически стягиваются с github при генерации проекта (см. ниже)

## Установка

### Готовые сборки
Скачайте последнюю версию установщика из раздела [Releases](https://github.com/yourusername/GCodeGenerator/releases) и запустите установщик.

### Сборка из исходников

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/GCodeGenerator.git
cd GCodeGenerator
```

2. Восстановите зависимости NuGet и генерация файлов:
```bash
gen-gcodegenerator.cmd
```

3. Откройте `GCodeGenerator.sln` в Visual Studio и соберите решение.

### Сборка инсталлятора

1. Проставьте новый тег git-а в формате x.y.z
Если z не равно 0, считается что это сборка для тестирования

2. Запустите скрипт сборки
```bash
gen-gcodegenerator_install.cmd
```

3. После окончания сборки в каталоге * _build_GCODEGENERATOR_NMake_VS17/_install/Release * будет находиться файл инсталлятора с именем * GCodeGenerator_ru_RU_[тег].exe

## Использование

1. **Запустите приложение** GCodeGenerator.exe

2. **Выберите тип операции** из вкладок в левой части окна:
   - Сверление
   - Фрезерование

3. **Добавьте операцию**:
   - Нажмите на кнопку нужного типа операции
   - Заполните параметры в открывшемся диалоге
   - Операция будет добавлена в список

4. **Настройте параметры** (опционально):
   - Нажмите кнопку "Настройки" для изменения параметров генерации G-кода
   - Настройте параметры шпинделя и СОЖ в настройках программы

5. **Сохраните проект** (опционально):
   - Нажмите кнопку "Сохранить проект" для сохранения всех операций и настроек
   - В дальнейшем можно открыть сохраненный проект через "Открыть проект"

6. **Сгенерируйте G-код**:
   - Нажмите кнопку "Сгенерировать G-код"
   - Просмотрите результат в правой панели

7. **Просмотрите 3D-превью** (опционально):
   - Нажмите кнопку "Превью G-кода" для визуализации траекторий

8. **Сохраните результат**:
   - Нажмите кнопку "Сохранить G-код"
   - Выберите место для сохранения файла

## Структура проекта

```
GCodeGenerator/
├── GCodeGenerator/          # Основное приложение
│   ├── Models/              # Модели данных
│   ├── ViewModels/          # ViewModel'и (MVVM)
│   ├── Views/               # Представления (XAML)
│   ├── Services/            # Сервисы генерации G-кода
│   └── Infrastructure/      # Вспомогательные классы
├── YLocalization/           # Модуль локализации
├── YMugenExtensions/        # Расширения для MugenMvvmToolkit
├── install/                 # Скрипты установщика
└── CMakeLists.txt           # Файл конфигурации CMake
```

## Технологии

- **.NET Framework 4.8.1** — платформа разработки
- **WPF** — графический интерфейс
- **MugenMvvmToolkit** — фреймворк для MVVM
- **Autofac** — контейнер зависимостей
- **CMake** — система сборки
- **YBuild** — система сборки и управления зависимостями

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл [LICENSE](LICENSE) для подробностей.

## Автор

Copyright (c) 2021 Alexander Yunker

## Вклад в проект

Вклад в проект приветствуется! Пожалуйста:

1. Создайте форк проекта
2. Создайте ветку для новой функции (`git checkout -b feature/AmazingFeature`)
3. Зафиксируйте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Отправьте в ветку (`git push origin feature/AmazingFeature`)
5. Откройте Pull Request

## Поддержка

Если у вас возникли вопросы или проблемы, пожалуйста, создайте [Issue](https://github.com/yourusername/GCodeGenerator/issues) в репозитории.

